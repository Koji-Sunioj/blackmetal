<!DOCTYPE html>
<html>
  <head>
    <title>Black Metal | Shop Backend</title>
    <script src="/assets/app.js"></script>
    <link href="/assets/old-english-five.css" rel="stylesheet" />
    <link href="/assets/app.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width" />
  </head>
  <body onload="checkSession()" class="shop">
    <div id="nav">
      <a href="/">Homepage</a>
      <a href="/albums">Albums</a>
      <a href="#" id="account-link">My Account</a>
      <a href="/admin">Admin</a>
    </div>
    <hr />
    <h1>Create a new album</h1>
    <form onsubmit="sendAlbum(event)">
      <hr />
      <p>details:</p>
      <div class="form-field">
        <label for="title">album title:</label>
        <input
          type="text"
          name="title"
          placeholder="Storm of the light's bane"
          minlength="1"
          required
          value="123"
        />
      </div>
      <div class="form-field">
        <label for="release_year">release year:</label>
        <input
          type="number"
          name="release_year"
          min="1970"
          max="2025"
          placeholder="1984"
          required
          value="1984"
        />
      </div>
      <div class="form-field">
        <label for="price">price:</label>
        <input
          type="number"
          name="price"
          placeholder="12.99"
          pattern="^[0-9]?[0-9].[0-9]{2}"
          required
          step="any"
          value="12.99"
        />
      </div>
      <div class="form-field">
        <label for="stock">stock:</label>
        <input
          type="number"
          name="stock"
          placeholder="10"
          min="1"
          max="100"
          required
          value="10"
        />
      </div>
      <div class="form-field">
        <label for="artist">artist:</label>
        <select name="artist"></select>
      </div>
      <br />
      <hr />
      <p>songs:</p>
      <table class="dispatched-table" id="songs">
        <tbody>
          <tr>
            <td>track</td>
            <td>name</td>
            <td>duration</td>
          </tr>
          <tr>
            <td><input name="track_1" type="number" value="1" disabled /></td>
            <td>
              <input
                name="song_1"
                type="text"
                value="123"
                placeholder="At the Fathomless Depths"
                minlength="1"
                required
              />
            </td>
            <td>
              <input
                name="duration_1"
                type="text"
                placeholder="2:49"
                pattern="^[0-9]{1,2}:[0-9]{2}$"
                title="MM:SS or M:SS please"
                onkeydown="checkTime(event)"
                maxlength="5"
              />
            </td>
          </tr>
        </tbody>
      </table>
      <button type="button" onclick="addSong()">add track</button>
      <button type="button" onclick="removeSong()">remove track</button>
      <hr />
      <p>add a photo:</p>
      <input
        type="file"
        accept="image/*"
        name="photo"
        id="photo"
        onchange="addPhoto(event)"
        required
      />
      <img id="photo-preview" />
      <hr />
      <button type="submit">Submit</button>
    </form>
  </body>
</html>
